**核心原因**
- 20ms是“周期”（帧长），满油门是“脉宽”（高电平持续时间）。ESC/伺服读取的是每个周期里高电平的宽度，不是整个周期的长度。
- 标准伺服/ESC协议用约50Hz（周期约20ms）更新命令；命令本身用1.0–2.0ms的高脉宽来编码油门/角度。满油门≈2.0ms，而不是20ms。

**周期 vs 脉宽**
- 周期：信号重复的时间长度，当前配置为`20ms`（`ARR=20000-1`且计数步长`1us`）。
- 脉宽：每周期内高电平持续的时间，当前用`CCR`直接表示微秒数（如`1000/1500/2000us`）。
- 占空比：`duty = CCR / (ARR+1)`。满油门`CCR=2000`时，`duty ≈ 2000/20000 = 10%`。

**为什么不能把满油门设为20ms**
- 如果`CCR=20000`，信号几乎整周期都为高电平（接近100%占空比），这不符合伺服/ESC的脉宽协议，超出可识别范围（典型为1–2ms，有的设备支持更宽但仍远小于周期）。
- ESC期望的是“短高脉冲+长低电平”的帧结构，用高脉冲的长度来解码油门；20ms高脉冲会被判定为异常或失效信号。

**与你的代码对应**
- 周期设置：`PSC=84-1`，`ARR=20000-1` → `50Hz`。
- 满油门：将`CCR`设为`2000`（`__HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_3, 2000)`）。
- 宏含义：`BLDC_MIN_US=1000`、`BLDC_MAX_US=2000`限定脉宽范围；`BLDC_OFF_US=BLDC_MIN_US`作为停止输出。

**扩展**
- 某些现代ESC支持更高更新率或数字协议（比如 Oneshot125/Multishot/DShot），这时“周期”和“脉宽/码字”规则不同；但在当前50Hz伺服协议下，满油门就是约2ms脉宽。
        
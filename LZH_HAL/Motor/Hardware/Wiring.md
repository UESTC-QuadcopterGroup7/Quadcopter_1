接线图（STM32F401RE 开发板 + 接收机 + ESC + OLED）

概览
- 定时器输入捕获：TIM5_CH1..CH4 在 `PA0..PA3` 接收遥控器 1–4 通道 PWM（约 1–2ms, 50Hz）。
- ESC 控制：TIM3_CH3 在 `PB0` 输出 PWM 脉冲给电子调速器（1–2ms, 50Hz）。
- OLED 显示：`PC2` 作为 SCL，`PC3` 作为 SDA（bit‑bang I2C），VCC=3.3V。
- 所有设备必须共地（GND）。

ASCII 拓扑图

```
┌──────────────────────────────────────────────────────────────────────────────────────┐
│                                   遥控器接收机（RX）                                 │
│                                                                                      │
│   CH1(PWM) ────────────────► PA0  (TIM5_CH1)  ┐                                      │
│   CH2(PWM) ────────────────► PA1  (TIM5_CH2)  ├─→ MCU 捕获宽度 PWM_IN_Wid[0..3]      │
│   CH3(PWM, 油门) ──────────► PA2  (TIM5_CH3)  ┤                                      │
│   CH4(PWM) ────────────────► PA3  (TIM5_CH4)  ┘                                      │
│                                                                                      │
│   +5V（或 BEC 5V） ────────► 供电（RX 自身）                                         │
│   GND ─────────────────────► MCU_GND / ESC_GND（必须共地）                           │
└──────────────────────────────────────────────────────────────────────────────────────┘

                        ┌──────────────────────────────┐
                        │            MCU               │
                        │  STM32F401RE（示例）         │
                        │                              │
                        │  PB0 (TIM3_CH3) ──► ESC 信号 │
                        │  PA0..PA3 ───────► RX PWM IN │
                        │  PC2 (OLED SCL)  ──► OLED SCL│
                        │  PC3 (OLED SDA)  ──► OLED SDA│
                        │  3V3 ─────────────► OLED VCC │
                        │  GND ─────────────► 共地     │
                        └──────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────────────┐
│                                      ESC（电子调速器）                                │
│                                                                                      │
│   Signal ───────────────────────► 来自 PB0 (TIM3_CH3)                                 │
│   +Battery ─────────────────────► 电机/电池（不要直接接 MCU 3V3）                    │
│   GND ─────────────────────────► 与 MCU/RX 共地                                      │
└──────────────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────────────┐
│                                   OLED（I2C, 3.3V）                                   │
│   VCC ──────────► 3.3V                                                                │
│   GND ──────────► GND                                                                  │
│   SCL ──────────► PC2（推挽开漏；建议外接 4.7k 上拉到 3.3V）                         │
│   SDA ──────────► PC3（推挽开漏；建议外接 4.7k 上拉到 3.3V）                         │
└──────────────────────────────────────────────────────────────────────────────────────┘

引脚映射速查
- 接收机 → MCU 输入捕获（TIM5）：
  - `CH1 → PA0`（TIM5_CH1）→ `PWM_IN_Wid[0]`
  - `CH2 → PA1`（TIM5_CH2）→ `PWM_IN_Wid[1]`
  - `CH3 → PA2`（TIM5_CH3，油门）→ `PWM_IN_Wid[2]`
  - `CH4 → PA3`（TIM5_CH4）→ `PWM_IN_Wid[3]`

- ESC → MCU PWM 输出（TIM3）：
  - `ESC Signal ← PB0`（TIM3_CH3）
  - `ESC GND ↔ MCU GND`（必须共地）

- OLED → MCU：
  - `OLED SCL ← PC2`
  - `OLED SDA ← PC3`
  - `OLED VCC ← 3.3V`，`OLED GND ↔ MCU GND`

关键注意事项
- 共地：RX、ESC 与 MCU 必须共地，否则采不到有效电平。
- 逻辑电平：RX 多为 3.3–5V 推挽输出。若为 5V 且引脚非 5V 容忍，需分压到 3.3V。
- 上拉/下拉：当前代码将 PA0..PA3 设为下拉（GPIO_PULLDOWN）。若你的 RX 空闲状态为高电平或开漏输出，应改为上拉（GPIO_PULLUP）。
- 频率与脉宽：RX 通常 50Hz（20ms 周期），脉宽约 1000–2000us。OLED 上已显示 `PWM_IN_Wid[0..3]` 便于确认接线。
- ESC 校准：先将 PB0 输出 2000us，通电 ESC，随后切换到 1000us 保持，完成校准（具体见 `BLDC.c`）。

与代码的对应关系
- `Receive_IC.c` 将 TIM5 配置为输入捕获，读取 `PA0..PA3` 的脉宽，更新 `PWM_IN_Wid[0..3]`。
- `main.c` 循环同时显示四路宽度，快速定位你接的是哪一路。
- `BLDC.c` 用 TIM3_CH3（`PB0`）输出 PWM 到 ESC，`BLDC_SetThrottle3_us()` 接收期望脉宽（us）。